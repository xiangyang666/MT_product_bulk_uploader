# å•†å“æ•°æ®ä¸å­˜åœ¨ - è§£å†³æ–¹æ¡ˆ

## ğŸ› é—®é¢˜æè¿°

ç‚¹å‡»"ç”Ÿæˆæ¨¡æ¿"æ—¶æŠ¥é”™ï¼š
```
java.lang.IllegalArgumentException: æœªæ‰¾åˆ°æŒ‡å®šçš„å•†å“æ•°æ®
```

åç«¯æ—¥å¿—æ˜¾ç¤ºï¼š
```
==> Parameters: 6464(Long), 6465(Long), 6466(Long)
<==      Total: 0
```

**åŸå› ï¼šæ•°æ®åº“ä¸­æ²¡æœ‰IDä¸º 6464, 6465, 6466 çš„å•†å“ï¼**

---

## ğŸ” é—®é¢˜åˆ†æ

### ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Ÿ

1. **å‰ç«¯æ˜¾ç¤ºçš„å•†å“åˆ—è¡¨æ¥è‡ªç¼“å­˜æˆ–æ—§æ•°æ®**
   - å‰ç«¯é¡µé¢åŠ è½½æ—¶è·å–äº†å•†å“åˆ—è¡¨
   - ä½†è¿™äº›å•†å“åœ¨æ•°æ®åº“ä¸­å·²è¢«åˆ é™¤æˆ–ä¸å­˜åœ¨

2. **å¯èƒ½çš„åŸå› ï¼š**
   - å•†å“è¢«é€»è¾‘åˆ é™¤ï¼ˆ`deleted=1`ï¼‰
   - æ•°æ®åº“è¢«æ¸…ç©ºè¿‡
   - æ•°æ®åº“è¿æ¥åˆ°äº†ä¸åŒçš„ç¯å¢ƒ
   - å•†å“IDä¸è¿ç»­ï¼ˆä¸­é—´æœ‰åˆ é™¤çš„ï¼‰

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ’å…¥æµ‹è¯•å•†å“æ•°æ®ï¼ˆæœ€å¿«ï¼‰

**æ­¥éª¤1ï¼šæ‰§è¡ŒSQLæ’å…¥æµ‹è¯•æ•°æ®**

æ‰“å¼€MySQLå®¢æˆ·ç«¯ï¼Œæ‰§è¡Œ `æ’å…¥æµ‹è¯•å•†å“.sql` æ–‡ä»¶ï¼š

```sql
USE meituan_product;

-- æ’å…¥10ä¸ªæµ‹è¯•å•†å“
INSERT INTO t_product (merchant_id, product_name, category_id, price, stock, description, image_url, status, deleted, created_time, updated_time)
VALUES 
(1, 'è‹¹æœ iPhone 15 Pro 256GB', '2000010001', 7999.00, 100, 'å…¨æ–°è‹¹æœiPhone 15 Pro 256GB æ·±ç©ºé»‘è‰²', 'https://example.com/iphone15.jpg', 0, 0, NOW(), NOW()),
(1, 'åä¸º Mate 60 Pro 512GB', '2000010001', 6999.00, 80, 'åä¸ºMate 60 Pro 12GB+512GB é›…å·é’', 'https://example.com/mate60.jpg', 0, 0, NOW(), NOW()),
(1, 'å°ç±³14 Ultra 16GB+1TB', '2000010001', 6499.00, 50, 'å°ç±³14 Ultra å¾•å¡å…‰å­¦é•œå¤´ é’›é‡‘å±ç‰ˆ', 'https://example.com/mi14.jpg', 0, 0, NOW(), NOW()),
(1, 'OPPO Find X7 Ultra', '2000010001', 5999.00, 60, 'OPPO Find X7 Ultra å“ˆè‹å½±åƒ 16GB+512GB', 'https://example.com/oppo.jpg', 0, 0, NOW(), NOW()),
(1, 'vivo X100 Pro 16GB', '2000010001', 5499.00, 70, 'vivo X100 Pro è”¡å¸å…‰å­¦ 16GB+512GB', 'https://example.com/vivo.jpg', 0, 0, NOW(), NOW()),
(1, 'ä¸‰æ˜Ÿ Galaxy S24 Ultra', '2000010001', 8999.00, 40, 'ä¸‰æ˜ŸGalaxy S24 Ultra 12GB+512GB é’›ç°è‰²', 'https://example.com/samsung.jpg', 0, 0, NOW(), NOW()),
(1, 'MacBook Pro 14è‹±å¯¸ M3', '2000020001', 14999.00, 30, 'MacBook Pro 14è‹±å¯¸ M3èŠ¯ç‰‡ 16GB+512GB', 'https://example.com/macbook.jpg', 0, 0, NOW(), NOW()),
(1, 'æˆ´å°” XPS 15 ç¬”è®°æœ¬', '2000020001', 12999.00, 25, 'æˆ´å°”XPS 15 i7-13700H 32GB+1TB', 'https://example.com/dell.jpg', 0, 0, NOW(), NOW()),
(1, 'iPad Pro 12.9è‹±å¯¸ M2', '2000030001', 8999.00, 50, 'iPad Pro 12.9è‹±å¯¸ M2èŠ¯ç‰‡ 256GB WiFiç‰ˆ', 'https://example.com/ipad.jpg', 0, 0, NOW(), NOW()),
(1, 'AirPods Pro 2ä»£', '2000040001', 1899.00, 200, 'AirPods Pro ç¬¬äºŒä»£ ä¸»åŠ¨é™å™ª æ— çº¿å……ç”µ', 'https://example.com/airpods.jpg', 0, 0, NOW(), NOW());

-- æŸ¥çœ‹æ’å…¥ç»“æœ
SELECT id, product_name, price FROM t_product WHERE deleted = 0 ORDER BY id DESC LIMIT 10;
```

**æ­¥éª¤2ï¼šåˆ·æ–°å‰ç«¯é¡µé¢**

1. åœ¨æµè§ˆå™¨ä¸­æŒ‰ `F5` åˆ·æ–°é¡µé¢
2. è¿›å…¥"æ‰¹é‡ä¸Šä¼ "é¡µé¢
3. ç°åœ¨åº”è¯¥èƒ½çœ‹åˆ°æ–°æ’å…¥çš„å•†å“
4. å‹¾é€‰å•†å“å¹¶ç‚¹å‡»"ç”Ÿæˆæ¨¡æ¿"

---

### æ–¹æ¡ˆ2ï¼šæ£€æŸ¥å¹¶æ¢å¤ç°æœ‰å•†å“

**æ­¥éª¤1ï¼šæ£€æŸ¥å•†å“çŠ¶æ€**

æ‰§è¡Œ `æ£€æŸ¥å•†å“æ•°æ®é—®é¢˜.sql`ï¼š

```sql
USE meituan_product;

-- æ£€æŸ¥ID 6464, 6465, 6466 æ˜¯å¦å­˜åœ¨
SELECT 
    id,
    product_name,
    deleted,
    CASE 
        WHEN deleted = 1 THEN 'âŒ å·²åˆ é™¤'
        ELSE 'âœ… æ­£å¸¸'
    END AS status
FROM t_product
WHERE id IN (6464, 6465, 6466);
```

**æ­¥éª¤2ï¼šå¦‚æœå•†å“è¢«æ ‡è®°ä¸ºåˆ é™¤ï¼Œæ¢å¤å®ƒä»¬**

```sql
-- æ¢å¤è¢«åˆ é™¤çš„å•†å“
UPDATE t_product 
SET deleted = 0 
WHERE id IN (6464, 6465, 6466);

-- éªŒè¯æ¢å¤ç»“æœ
SELECT id, product_name, deleted 
FROM t_product 
WHERE id IN (6464, 6465, 6466);
```

**æ­¥éª¤3ï¼šåˆ·æ–°å‰ç«¯é¡µé¢å¹¶é‡è¯•**

---

### æ–¹æ¡ˆ3ï¼šä½¿ç”¨æ‰¹é‡å¯¼å…¥åŠŸèƒ½

**æ­¥éª¤1ï¼šå‡†å¤‡Excelæ–‡ä»¶**

åˆ›å»ºä¸€ä¸ªExcelæ–‡ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹åˆ—ï¼š
- å•†å“åç§°
- ç±»ç›®ID
- ä»·æ ¼
- åº“å­˜
- å•†å“æè¿°
- å›¾ç‰‡URL

**æ­¥éª¤2ï¼šå¯¼å…¥å•†å“**

1. æ‰“å¼€ç³»ç»Ÿ â†’ æ‰¹é‡å¯¼å…¥
2. ä¸Šä¼ Excelæ–‡ä»¶
3. ç­‰å¾…å¯¼å…¥å®Œæˆ

**æ­¥éª¤3ï¼šç”Ÿæˆæ¨¡æ¿**

1. è¿›å…¥æ‰¹é‡ä¸Šä¼ é¡µé¢
2. å‹¾é€‰åˆšå¯¼å…¥çš„å•†å“
3. ç‚¹å‡»"ç”Ÿæˆæ¨¡æ¿"

---

## ğŸ¯ å¿«é€Ÿæ“ä½œæ­¥éª¤

### æœ€å¿«çš„è§£å†³æ–¹æ³•ï¼ˆ3æ­¥ï¼‰ï¼š

```
1. æ‰§è¡Œ æ’å…¥æµ‹è¯•å•†å“.sql
   â†’ åœ¨MySQLå®¢æˆ·ç«¯ä¸­è¿è¡Œ

2. åˆ·æ–°æµè§ˆå™¨é¡µé¢ï¼ˆF5ï¼‰
   â†’ è¿›å…¥"æ‰¹é‡ä¸Šä¼ "é¡µé¢

3. å‹¾é€‰å•†å“å¹¶ç”Ÿæˆæ¨¡æ¿
   â†’ ç‚¹å‡»"ç”Ÿæˆæ¨¡æ¿"æŒ‰é’®
```

---

## ğŸ” éªŒè¯æ­¥éª¤

### 1. éªŒè¯æ•°æ®åº“ä¸­æœ‰å•†å“

```sql
USE meituan_product;

-- åº”è¯¥è¿”å› > 0
SELECT COUNT(*) FROM t_product WHERE deleted = 0;

-- æŸ¥çœ‹å•†å“åˆ—è¡¨
SELECT id, product_name, price 
FROM t_product 
WHERE deleted = 0 
ORDER BY id DESC 
LIMIT 10;
```

### 2. éªŒè¯å‰ç«¯æ˜¾ç¤ºæ­£ç¡®

1. åˆ·æ–°æµè§ˆå™¨ï¼ˆF5ï¼‰
2. è¿›å…¥"æ‰¹é‡ä¸Šä¼ "é¡µé¢
3. åº”è¯¥èƒ½çœ‹åˆ°å•†å“åˆ—è¡¨
4. å•†å“IDåº”è¯¥ä¸æ•°æ®åº“ä¸­çš„IDä¸€è‡´

### 3. éªŒè¯ç”Ÿæˆæ¨¡æ¿åŠŸèƒ½

1. å‹¾é€‰1-3ä¸ªå•†å“
2. ç‚¹å‡»"ç”Ÿæˆæ¨¡æ¿"æŒ‰é’®
3. æ–‡ä»¶åº”è¯¥è‡ªåŠ¨ä¸‹è½½
4. æ–‡ä»¶åï¼š`meituan_template_YYYYMMDDHHMMSS.xlsx`

---

## ğŸ’¡ ä¸ºä»€ä¹ˆä¼šå‡ºç°IDä¸å­˜åœ¨çš„é—®é¢˜ï¼Ÿ

### å‰ç«¯è·å–å•†å“åˆ—è¡¨çš„æµç¨‹ï¼š

```
1. ç”¨æˆ·æ‰“å¼€"æ‰¹é‡ä¸Šä¼ "é¡µé¢
   â†“
2. å‰ç«¯è°ƒç”¨ GET /api/products
   â†“
3. åç«¯ä»æ•°æ®åº“æŸ¥è¯¢å•†å“
   â†“
4. è¿”å›å•†å“åˆ—è¡¨ï¼ˆåŒ…å«IDï¼‰
   â†“
5. å‰ç«¯æ˜¾ç¤ºå•†å“åˆ—è¡¨
   â†“
6. ç”¨æˆ·å‹¾é€‰å•†å“
   â†“
7. å‰ç«¯å‘é€é€‰ä¸­çš„å•†å“IDåˆ°åç«¯
   â†“
8. åç«¯å†æ¬¡æŸ¥è¯¢è¿™äº›ID
   â†“
9. å¦‚æœIDä¸å­˜åœ¨ â†’ æŠ¥é”™ï¼
```

### å¯èƒ½å¯¼è‡´IDä¸å­˜åœ¨çš„æƒ…å†µï¼š

1. **æ—¶é—´å·®é—®é¢˜**
   - ç”¨æˆ·æ‰“å¼€é¡µé¢åï¼Œå•†å“è¢«åˆ é™¤äº†
   - å‰ç«¯ç¼“å­˜äº†æ—§æ•°æ®

2. **æ•°æ®åº“æ“ä½œ**
   - æ‰§è¡Œäº†æ¸…ç©ºå•†å“çš„æ“ä½œ
   - æ‰§è¡Œäº†DELETEè¯­å¥

3. **ç¯å¢ƒé—®é¢˜**
   - å‰ç«¯è¿æ¥çš„æ•°æ®åº“ä¸åç«¯ä¸åŒ
   - æ•°æ®åº“é…ç½®é”™è¯¯

---

## ğŸ“‹ é¢„é˜²æªæ–½

### 1. å‰ç«¯æ·»åŠ æ•°æ®åˆ·æ–°

åœ¨ç”Ÿæˆæ¨¡æ¿å‰ï¼Œé‡æ–°è·å–å•†å“åˆ—è¡¨ï¼š

```javascript
const handleGenerateTemplate = async () => {
  // å…ˆåˆ·æ–°å•†å“åˆ—è¡¨
  await fetchProducts()
  
  // å†ç”Ÿæˆæ¨¡æ¿
  // ...
}
```

### 2. åç«¯æ·»åŠ æ›´å‹å¥½çš„é”™è¯¯æç¤º

```java
if (products.isEmpty()) {
    throw new IllegalArgumentException(
        String.format("æœªæ‰¾åˆ°æŒ‡å®šçš„å•†å“æ•°æ®ï¼Œè¯·æ±‚çš„IDï¼š%s", 
            productIds.toString())
    );
}
```

### 3. å®šæœŸå¤‡ä»½æ•°æ®åº“

```bash
# å¤‡ä»½æ•°æ®åº“
mysqldump -h 106.55.102.48 -u root -p meituan_product > backup.sql

# æ¢å¤æ•°æ®åº“
mysql -h 106.55.102.48 -u root -p meituan_product < backup.sql
```

---

## ğŸ†˜ å¦‚æœè¿˜æ˜¯ä¸è¡Œ

### è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æ•°æ®åº“æŸ¥è¯¢ç»“æœ**
   ```sql
   SELECT COUNT(*) FROM t_product WHERE deleted = 0;
   SELECT id FROM t_product WHERE deleted = 0 ORDER BY id DESC LIMIT 10;
   ```

2. **å‰ç«¯æ˜¾ç¤ºçš„å•†å“ID**
   - æ‰“å¼€F12 â†’ Console
   - è¾“å…¥ï¼š`console.log(selectedProducts.value)`
   - æˆªå›¾æ˜¾ç¤ºçš„ID

3. **åç«¯æ—¥å¿—ä¸­çš„å®Œæ•´é”™è¯¯ä¿¡æ¯**
   - åŒ…å« Parameters å’Œ Total çš„éƒ¨åˆ†

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

- âœ… `æ’å…¥æµ‹è¯•å•†å“.sql` - æ’å…¥10ä¸ªæµ‹è¯•å•†å“
- âœ… `æ£€æŸ¥å•†å“æ•°æ®é—®é¢˜.sql` - æ£€æŸ¥å’Œè¯Šæ–­å•†å“æ•°æ®
- `check-products.sql` - è¯¦ç»†çš„å•†å“æ•°æ®æ£€æŸ¥

---

**æ›´æ–°æ—¥æœŸ**: 2026-02-09  
**é—®é¢˜ç±»å‹**: æ•°æ®åº“ä¸­å•†å“æ•°æ®ä¸å­˜åœ¨  
**è§£å†³æ–¹æ¡ˆ**: æ’å…¥æµ‹è¯•æ•°æ®æˆ–æ¢å¤å·²åˆ é™¤çš„å•†å“  
**çŠ¶æ€**: âœ… å·²æä¾›è§£å†³æ–¹æ¡ˆ
