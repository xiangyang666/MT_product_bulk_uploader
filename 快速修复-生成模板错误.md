# 🚀 快速修复：生成模板500错误

## 问题
点击"生成模板"按钮时报错：`500 Internal Server Error`

---

## 3步解决

### ✅ 步骤1：启动后端（最重要！）

**双击运行：**
```
start-backend.bat
```

**等待看到：**
```
Started MeituanProductApplication in X.XXX seconds
成功加载模板配置：美团商品上传模板
```

⏱️ **需要30-60秒，请耐心等待！**

---

### ✅ 步骤2：检查是否有商品数据

**打开MySQL客户端，执行：**
```sql
USE meituan_product;
SELECT COUNT(*) FROM t_product WHERE deleted = 0;
```

**如果返回0：**
1. 打开系统 → 批量导入
2. 上传商品Excel文件
3. 导入成功后继续

**如果返回 > 0：**
继续下一步

---

### ✅ 步骤3：刷新前端并重试

1. **刷新浏览器**（按F5）
2. **进入"批量上传"**
3. **勾选商品**
4. **点击"生成模板"**

✨ **文件应该自动下载！**

---

## 还是不行？

### 检查后端是否真的启动了

**在浏览器打开：**
```
http://localhost:8080/actuator/health
```

**应该看到：**
```json
{"status":"UP"}
```

**如果打不开：**
- 后端没有启动成功
- 重新运行 `start-backend.bat`
- 查看命令行窗口中的错误信息

---

### 查看后端错误日志

**在后端命令行窗口中查找：**
- `ERROR`
- `Exception`
- `生成模板失败`

**常见错误：**

1. **"未找到指定的商品数据"**
   → 数据库中没有商品，先导入商品

2. **"NullPointerException"**
   → 重启后端服务

3. **"template-config.json not found"**
   → 配置文件缺失，检查文件是否存在

---

## 详细排查

如果以上方法都不行，请查看：
- **完整解决方案**: `GENERATE_TEMPLATE_ERROR_SOLUTION.md`
- **详细排查指南**: `生成模板500错误排查.md`
- **商品数据检查**: `check-products.sql`

---

## 需要帮助？

提供以下信息：
1. 后端命令行窗口中的错误信息
2. 数据库商品数量查询结果
3. 浏览器F12中的Network请求详情

---

**更新日期**: 2026-02-09
