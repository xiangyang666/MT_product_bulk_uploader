# å¿«é€Ÿéƒ¨ç½² - ç³»ç»Ÿè®¾ç½® JSON ä¿®å¤

## ğŸš€ ä¸€é”®éƒ¨ç½²

### æ­¥éª¤ 1ï¼šæ‰“åŒ…
```bash
cd meituan-backend
mvn clean package -Dmaven.test.skip=true
```

### æ­¥éª¤ 2ï¼šä¸Šä¼ 
```bash
scp target/app.jar root@106.55.102.48:/opt/meituan/
```

### æ­¥éª¤ 3ï¼šé‡å¯
```bash
ssh root@106.55.102.48
cd /opt/meituan/
ps aux | grep app.jar
kill -9 <è¿›ç¨‹ID>
nohup java -jar app.jar > app.log 2>&1 &
```

### æ­¥éª¤ 4ï¼šéªŒè¯
```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f app.log

# æµ‹è¯•ç³»ç»Ÿè®¾ç½®é¡µé¢
# 1. ç™»å½•ç³»ç»Ÿ
# 2. æ‰“å¼€ç³»ç»Ÿè®¾ç½®
# 3. ä¿®æ”¹é…ç½®å¹¶ä¿å­˜
# 4. âœ… åº”è¯¥æˆåŠŸï¼Œä¸å†å‡ºç° JSON é”™è¯¯
```

---

## ğŸ“‹ ä¿®æ”¹çš„æ–‡ä»¶

1. **MerchantConfig.java** - æ·»åŠ  JSON è‡ªåŠ¨æ¸…ç†
2. **SettingsService.java** - æ·»åŠ éªŒè¯å’Œé”™è¯¯æ¢å¤

---

## âœ… é¢„æœŸæ•ˆæœ

- âœ… ç³»ç»Ÿè®¾ç½®é¡µé¢å¯ä»¥æ­£å¸¸ä¿å­˜
- âœ… ä¸å†å‡ºç° "Invalid JSON text" é”™è¯¯
- âœ… è‡ªåŠ¨å¤„ç† null å’Œç©ºå€¼
- âœ… å‘åå…¼å®¹ç°æœ‰æ•°æ®

---

## ğŸ” å¿«é€Ÿæµ‹è¯•

```bash
# 1. ç™»å½•è·å– Token
curl -X POST http://106.55.102.48:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# 2. ä¿å­˜é…ç½®ï¼ˆä½¿ç”¨ä¸Šé¢è¿”å›çš„ tokenï¼‰
curl -X PUT http://106.55.102.48:8080/api/settings \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"merchantId":1,"merchantName":"æµ‹è¯•"}'

# 3. åº”è¯¥è¿”å›æˆåŠŸ
```

---

## ğŸ“ é—®é¢˜æ’æŸ¥

**å¦‚æœä»ç„¶å¤±è´¥ï¼š**
1. æ£€æŸ¥æ—¥å¿—ï¼š`tail -100 app.log | grep -i error`
2. éªŒè¯ä»£ç å·²éƒ¨ç½²ï¼š`ls -lh /opt/meituan/app.jar`
3. é‡å¯æœåŠ¡

---

**éƒ¨ç½²æ—¶é—´ï¼š** 5-10 åˆ†é’Ÿ  
**é£é™©ï¼š** ğŸŸ¢ ä½é£é™©  
**çŠ¶æ€ï¼š** âœ… å°±ç»ª
